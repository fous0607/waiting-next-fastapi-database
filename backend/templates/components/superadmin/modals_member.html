<!-- Member Settings Modal -->
<div id="memberSettingsModal" class="modal-overlay">
    <div class="modal-content">
        <i class="fas fa-times close-modal" onclick="closeModal('memberSettingsModal')"></i>
        <div class="modal-title">회원 관리 방식 설정</div>
        <div id="memberSettingsFranchiseName"
            style="font-size: 14px; color: var(--toss-gray-500); margin-bottom: 24px;"></div>
        <form id="memberSettingsForm">
            <input type="hidden" id="memberSettingsFranchiseId">
            <div class="input-group" style="padding: 16px; background: var(--toss-gray-50); border-radius: 12px;">
                <label class="input-label" style="margin-bottom: 12px;">관리 유형 선택</label>
                <div style="display: flex; flex-direction: column; gap: 12px;">
                    <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                        <input type="radio" name="memberType" value="common" style="width: 18px; height: 18px;">
                        <div style="flex: 1;">
                            <div style="font-weight: 700; font-size: 15px;">통합 관리 (권장)</div>
                            <div style="font-size: 13px; color: var(--toss-gray-600);">전 매장에서 회원을 공유하고 스탬프를 합산합니다.</div>
                        </div>
                    </label>
                    <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                        <input type="radio" name="memberType" value="independent" style="width: 18px; height: 18px;">
                        <div style="flex: 1;">
                            <div style="font-weight: 700; font-size: 15px;">개별 관리</div>
                            <div style="font-size: 13px; color: var(--toss-gray-600);">각 매장별로 회원 및 스탬프 데이터가 독립적으로 운영됩니다.
                            </div>
                        </div>
                    </label>
                </div>
            </div>
            <div class="modal-actions" style="margin-top: 32px;">
                <button type="button" class="toss-btn toss-btn-secondary"
                    onclick="closeModal('memberSettingsModal')">취소</button>
                <button type="submit" class="toss-btn toss-btn-primary">설정 저장</button>
            </div>
        </form>
    </div>
</div>

<!-- Member Details/History Modal -->
<div id="memberHistoryModal" class="modal-overlay">
    <div class="modal-content" style="width: 640px;">
        <i class="fas fa-times close-modal" onclick="closeModal('memberHistoryModal')"></i>
        <div class="modal-title">회원 출석 이력</div>
        <div id="historyMemberName"
            style="font-weight: 700; color: var(--toss-blue); margin-bottom: 24px; padding-bottom: 12px; border-bottom: 1px solid var(--toss-gray-100);">
        </div>

        <div class="dashboard-widget" style="padding: 16px; min-height: 300px;">
            <div class="widget-title" style="margin-bottom: 16px; font-size: 15px;">상세 내역</div>
            <div class="table-container" style="max-height: 400px; overflow-y: auto;">
                <table class="toss-table" style="font-size: 13px;">
                    <thead>
                        <tr>
                            <th>방문 일시</th>
                            <th>매장명</th>
                            <th style="text-align: right;">상태</th>
                        </tr>
                    </thead>
                    <tbody id="memberHistoryBody">
                        <!-- Loaded via JS -->
                    </tbody>
                </table>
            </div>
        </div>

        <div class="modal-actions" style="margin-top: 32px;">
            <button type="button" class="toss-btn toss-btn-secondary" style="width: 100%; justify-content: center;"
                onclick="closeModal('memberHistoryModal')">닫기</button>
        </div>
    </div>
</div>